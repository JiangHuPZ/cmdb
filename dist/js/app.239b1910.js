(function (t) { function e(e) { for (var s, n, l = e[0], d = e[1], c = e[2], u = 0, p = []; u < l.length; u++)n = l[u], i[n] && p.push(i[n][0]), i[n] = 0; for (s in d) Object.prototype.hasOwnProperty.call(d, s) && (t[s] = d[s]); r && r(e); while (p.length) p.shift()(); return o.push.apply(o, c || []), a() } function a() { for (var t, e = 0; e < o.length; e++) { for (var a = o[e], s = !0, l = 1; l < a.length; l++) { var d = a[l]; 0 !== i[d] && (s = !1) } s && (o.splice(e--, 1), t = n(n.s = a[0])) } return t } var s = {}, i = { app: 0 }, o = []; function n(e) { if (s[e]) return s[e].exports; var a = s[e] = { i: e, l: !1, exports: {} }; return t[e].call(a.exports, a, a.exports, n), a.l = !0, a.exports } n.m = t, n.c = s, n.d = function (t, e, a) { n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: a }) }, n.r = function (t) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, n.t = function (t, e) { if (1 & e && (t = n(t)), 8 & e) return t; if (4 & e && "object" === typeof t && t && t.__esModule) return t; var a = Object.create(null); if (n.r(a), Object.defineProperty(a, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var s in t) n.d(a, s, function (e) { return t[e] }.bind(null, s)); return a }, n.n = function (t) { var e = t && t.__esModule ? function () { return t["default"] } : function () { return t }; return n.d(e, "a", e), e }, n.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, n.p = "/"; var l = window["webpackJsonp"] = window["webpackJsonp"] || [], d = l.push.bind(l); l.push = e, l = l.slice(); for (var c = 0; c < l.length; c++)e(l[c]); var r = d; o.push([0, "chunk-vendors"]), a() })({ 0: function (t, e, a) { t.exports = a("56d7") }, "034f": function (t, e, a) { "use strict"; var s = a("64a9"), i = a.n(s); i.a }, "56d7": function (t, e, a) { "use strict"; a.r(e); a("cadf"), a("551c"), a("f751"), a("097d"); var s = a("2b0e"), i = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("div", { attrs: { id: "app" } }, [a("HelloWorld", { attrs: { msg: "Welcome to Your Vue.js App" } })], 1) }, o = [], n = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("div", { staticClass: "main" }, [a("div", [a("h3", { staticClass: "inline" }, [t._v("Nodes:")]), t._v(" " + t._s(t.nodes.length) + " total\n  ")]), a("div", { staticClass: "flex justify-between" }, [a("div", [a("div", { staticClass: "w20 inline" }, [a("el-input", { attrs: { placeholder: "Type something" }, model: { value: t.sk, callback: function (e) { t.sk = e }, expression: "sk" } }, [a("i", { staticClass: "el-input__icon el-icon-search", attrs: { slot: "prefix" }, slot: "prefix" })])], 1), a("el-button", { attrs: { type: "" }, on: { click: t.search } }, [t._v("search Across")])], 1), a("div", [a("el-button", { attrs: { type: "success", icon: "el-icon-plus", circle: "" }, on: { click: t.showaddfn } }), a("el-button", { attrs: { type: "primary", icon: "el-icon-edit", circle: "" }, on: { click: t.showdialogfn } }), a("el-button", { attrs: { type: "danger", icon: "el-icon-delete", circle: "" }, on: { click: t.delhost } })], 1)]), a("div", { staticClass: "main01" }, [a("div", { staticClass: "flex nodeholder " }, [a("div", { staticStyle: { width: "12px" } }), a("div", { staticClass: "p10" }, [a("div", { staticClass: "flex flex-row justify-content-between w80" }, [a("div", [t._v("主机名")]), t.skmode ? a("div", [t._v("ip")]) : t._e(), t.skmode ? a("div", [t._v("系统")]) : t._e(), t.skmode ? a("div", [t._v("dc")]) : t._e(), t.skmode ? a("div", [t._v("env")]) : t._e(), t.skmode ? a("div", [t._v("appcode")]) : t._e(), t.skmode ? a("div", [t._v("approle")]) : t._e(), a("div", [t._v("owner")]), a("div", [t._v("cpu")]), a("div", [t._v("mem")]), t.skmode ? a("div", [t._v("uptime")]) : t._e()])])]), t._l(t.nodes, function (e) { return a("div", { key: e.host_id, staticClass: "flex nodeholder " }, [a("input", { directives: [{ name: "model", rawName: "v-model", value: e.checked, expression: "i.checked" }], attrs: { type: "checkbox" }, domProps: { checked: Array.isArray(e.checked) ? t._i(e.checked, null) > -1 : e.checked }, on: { change: function (a) { var s = e.checked, i = a.target, o = !!i.checked; if (Array.isArray(s)) { var n = null, l = t._i(s, n); i.checked ? l < 0 && t.$set(e, "checked", s.concat([n])) : l > -1 && t.$set(e, "checked", s.slice(0, l).concat(s.slice(l + 1))) } else t.$set(e, "checked", o) } } }), a("div", { staticClass: "p10" }, [a("div", { staticClass: "flex flex-row justify-content-between w80" }, [a("div", { on: { click: function (a) { return t.showDetail(e) } } }, [t._v(t._s(e.hostname))]), t.skmode ? a("div", [t._v(t._s(e.ip_address))]) : t._e(), t.skmode ? a("div", [t._v(t._s(e.os))]) : t._e(), t.skmode ? a("div", [t._v(" " + t._s(e.dc))]) : t._e(), t.skmode ? a("div", [t._v(" " + t._s(e.env))]) : t._e(), t.skmode ? a("div", [t._v(" " + t._s(e.appcode))]) : t._e(), t.skmode ? a("div", [t._v(" " + t._s(e.approle))]) : t._e(), a("div", [t._v(" " + t._s(e.owner))]), a("div", [t._v(t._s(e.cpu))]), a("div", [t._v(t._s(e.mem))]), t.skmode ? a("div", [t._v(t._s(e.uptime))]) : t._e()]), a("div", [t._l(e.tags, function (t, e) { return a("el-badge", { key: e, staticClass: "item", staticStyle: { "margin-left": "5px" }, attrs: { value: t, type: "primary" } }) }), a("div", { staticClass: "inline", staticStyle: { "margin-left": "10px" } }, [a("el-button", { staticStyle: { border: "0" }, attrs: { size: "smal", circle: "", icon: "el-icon-plus" }, on: { click: function (a) { t.ntag.host_id = e.host_id, t.ntagshowdialog = !0 } } })], 1)], 2)])]) })], 2), a("el-dialog", { attrs: { title: t.formTitle, visible: t.showdialog, width: "40%" }, on: { "update:visible": function (e) { t.showdialog = e } } }, [a("div", [a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("主机名")]), a("el-input", { attrs: { placeholder: "主机名" }, model: { value: t.fmdata.hostname, callback: function (e) { t.$set(t.fmdata, "hostname", e) }, expression: "fmdata.hostname" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("ip")]), a("el-input", { attrs: { placeholder: "ip" }, model: { value: t.fmdata.ip_address, callback: function (e) { t.$set(t.fmdata, "ip_address", e) }, expression: "fmdata.ip_address" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("系统")]), a("el-input", { attrs: { placeholder: "系统" }, model: { value: t.fmdata.os, callback: function (e) { t.$set(t.fmdata, "os", e) }, expression: "fmdata.os" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("dc")]), a("el-input", { attrs: { placeholder: "dc" }, model: { value: t.fmdata.dc, callback: function (e) { t.$set(t.fmdata, "dc", e) }, expression: "fmdata.dc" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("环境")]), a("el-input", { attrs: { placeholder: "环境" }, model: { value: t.fmdata.env, callback: function (e) { t.$set(t.fmdata, "env", e) }, expression: "fmdata.env" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("appcode")]), a("el-input", { attrs: { placeholder: "appCode" }, model: { value: t.fmdata.appcode, callback: function (e) { t.$set(t.fmdata, "appcode", e) }, expression: "fmdata.appcode" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("app角色")]), a("el-input", { attrs: { placeholder: "app角色" }, model: { value: t.fmdata.approle, callback: function (e) { t.$set(t.fmdata, "approle", e) }, expression: "fmdata.approle" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("所有者")]), a("el-input", { attrs: { placeholder: "所有者" }, model: { value: t.fmdata.owner, callback: function (e) { t.$set(t.fmdata, "owner", e) }, expression: "fmdata.owner" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("cpu")]), a("el-input", { attrs: { placeholder: "cpu" }, model: { value: t.fmdata.cpu, callback: function (e) { t.$set(t.fmdata, "cpu", e) }, expression: "fmdata.cpu" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("内存")]), a("el-input", { attrs: { placeholder: "内存" }, model: { value: t.fmdata.mem, callback: function (e) { t.$set(t.fmdata, "mem", e) }, expression: "fmdata.mem" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("启动时间")]), a("el-input", { attrs: { placeholder: "启动时间" }, model: { value: t.fmdata.uptime, callback: function (e) { t.$set(t.fmdata, "uptime", e) }, expression: "fmdata.uptime" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("tags")]), a("el-input", { attrs: { placeholder: "tags" }, model: { value: t.fmdata.tagstr, callback: function (e) { t.$set(t.fmdata, "tagstr", e) }, expression: "fmdata.tagstr" } })], 1)]), a("span", { staticClass: "dialog-footer", attrs: { slot: "footer" }, slot: "footer" }, [a("el-button", { on: { click: function (e) { t.showdialog = !1 } } }, [t._v("Cancel")]), t.showUpdate ? a("el-button", { attrs: { type: "primary" }, on: { click: t.doupdate } }, [t._v("Confirm")]) : t._e()], 1)]), a("el-dialog", { attrs: { title: "编辑", visible: t.ntagshowdialog, width: "40%" }, on: { "update:visible": function (e) { t.ntagshowdialog = e } } }, [a("div", [a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("key")]), a("el-input", { attrs: { placeholder: "key" }, model: { value: t.ntag.k, callback: function (e) { t.$set(t.ntag, "k", e) }, expression: "ntag.k" } })], 1), a("div", { staticClass: "demo-input-suffix" }, [a("span", { staticClass: "demo-input-label" }, [t._v("value")]), a("el-input", { attrs: { placeholder: "value" }, model: { value: t.ntag.v, callback: function (e) { t.$set(t.ntag, "v", e) }, expression: "ntag.v" } })], 1)]), a("span", { staticClass: "dialog-footer", attrs: { slot: "footer" }, slot: "footer" }, [a("el-button", { on: { click: function (e) { t.ntagshowdialog = !1 } } }, [t._v("Cancel")]), a("el-button", { attrs: { type: "primary" }, on: { click: t.doupdatetag } }, [t._v("Confirm")])], 1)])], 1) }, l = [], d = a("cebc"), c = (a("6d67"), a("d25f"), a("ac6a"), a("456d"), a("bd86")), r = { name: "c-liquid-fill", props: {}, data: function () { return { formTitle: "编辑", sk: "", total: 0, nodes: [], checkedid: -1, skmode: !1, showdialog: !1, fmdata: {}, ntagshowdialog: !1, ntag: {}, showUpdate: !0 } }, mounted: function () { this.getAllNodes() }, components: {}, computed: {}, methods: { addtag: function (t) { console.log(t) }, doupdatetag: function () { var t = this; this.$axios.put("/hosts/tag", Object(c["a"])({ host_id: this.ntag.host_id }, this.ntag.k, this.ntag.v)).then(function () { t.getAllNodes(), t.ntagshowdialog = !1 }) }, doupdate: function () { var t = this; try { var e = JSON.parse(this.fmdata.tagstr); if (!(Object.keys(e).length >= 1 || "{}" == this.fmdata.tagstr)) throw new Error; this.fmdata.tags = e, delete this.fmdata.tagstr } catch (a) { return alert("tags 字段需要为json格式") } this.fmdata.host_id ? (this.showdialog = !1, this.$axios.put("/hosts/" + this.fmdata.host_id, this.fmdata).then(function () { t.getAllNodes() })) : (this.showdialog = !1, this.$axios.post("/hosts", this.fmdata).then(function () { t.getAllNodes() })) }, showaddfn: function () { this.showdialog = !0, this.fmdata = {} }, showdialogfn: function () { var t = this.nodes.filter(function (t) { return t.checked }); if (1 !== t.length) return alert("请选择单个node"); this.formTitle = "编辑", this.showUpdate = !0, this.showdialog = !0, this.fmdata = t[0] }, showDetail: function (t) { this.showUpdate = !1, this.formTitle = "详情", this.showdialog = !0, this.fmdata = t }, delhost: function () { var t = this, e = this.nodes.filter(function (t) { return t.checked }); if (1 !== e.length) return alert("请选择单个node"); this.$confirm("确定删除？").then(function () { t.$axios.delete("/hosts/".concat(e[0].host_id)).then(function () { t.getAllNodes() }) }) }, changecheckedid: function (t) { this.checkedid = t }, search: function () { var t = this; this.sk ? (this.skmode = !0, this.$axios.post("/hosts/".concat(this.sk)).then(function (e) { 0 == e.data.error_code && (t.nodes = [e.data.data]) })) : (this.skmode = !1, this.getAllNodes()) }, getAllNodes: function () { var t = this; this.$axios.get("/hosts").then(function (e) { console.log(e.data), 0 == e.data.error_code && (t.nodes = e.data.data.map(function (t) { return Object(d["a"])({}, t, { checked: !1, tagstr: JSON.stringify(t.tags) }) })) }) } } }, u = r, p = (a("87ee"), a("2877")), f = Object(p["a"])(u, n, l, !1, null, "3b25bbc6", null), m = f.exports, h = { name: "app", components: { HelloWorld: m } }, v = h, _ = (a("034f"), Object(p["a"])(v, i, o, !1, null, null, null)), g = _.exports, k = a("5c96"), b = a.n(k), x = (a("0fae"), a("cee4")); s["default"].prototype.$axios = x["a"], s["default"].use(b.a), s["default"].config.productionTip = !1, new s["default"]({ render: function (t) { return t(g) } }).$mount("#app") }, "64a9": function (t, e, a) { }, "87ee": function (t, e, a) { "use strict"; var s = a("c655"), i = a.n(s); i.a }, c655: function (t, e, a) { } });
//# sourceMappingURL=app.239b1910.js.map